<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clue Conspiracy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Login Screen -->
        <div id="login-screen" class="screen active">
            <div class="login-container">
                <h1>üïµÔ∏è Clue Conspiracy</h1>
                <p class="subtitle">A Social Deduction Mystery Game</p>
                <form id="login-form" class="login-form">
                    <input type="text" id="player-name" placeholder="Enter your name" required maxlength="20">
                    <input type="text" id="game-id" placeholder="Game ID (leave blank to create new game)" maxlength="10">
                    <button type="submit" class="btn btn-primary">Join Game</button>
                </form>
                <div class="instructions">
                    <p><strong>How to play with friends:</strong></p>
                    <p>1. One person creates a game (leave Game ID blank)</p>
                    <p>2. Share the Game ID with friends</p>
                    <p>3. Friends enter the same Game ID to join</p>
                    <p>4. Need 4-10 players to start</p>
                </div>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobby-screen" class="screen">
            <div class="lobby-container">
                <h1>üïµÔ∏è Clue Conspiracy</h1>
                <div class="game-info">
                    <h2>Game ID: <span id="game-id-display">-</span></h2>
                    <p>Share this ID with your friends!</p>
                </div>
                
                <div class="players-section">
                    <h3>Players (<span id="player-count">0</span>/10)</h3>
                    <div id="players-grid" class="players-grid">
                        <!-- Players populated by JS -->
                    </div>
                </div>
                
                <div class="lobby-actions">
                    <button id="start-game-btn" class="btn btn-primary" disabled>Start Game (Need 4+ players)</button>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <!-- Header -->
            <div class="game-header">
                <div class="game-info">
                    <h1>üïµÔ∏è Clue Conspiracy</h1>
                    <div class="game-status">
                        <span class="status-item">
                            <span class="label">Phase:</span>
                            <span id="game-phase" class="value">-</span>
                        </span>
                        <span class="status-item">
                            <span class="label">Round:</span>
                            <span id="round-info" class="value">-</span>
                        </span>
                        <span class="status-item">
                            <span class="label">Game ID:</span>
                            <span id="game-id-display-game" class="value game-id">-</span>
                        </span>
                    </div>
                </div>
                <div class="health-section">
                    <div class="health-item">
                        <span class="label">Mr. Coral Health:</span>
                        <div id="coral-health" class="health-hearts">‚ô•‚ô•‚ô•</div>
                    </div>
                    <div class="health-item">
                        <span class="label">Storm Tracker:</span>
                        <div id="storm-tracker" class="storm-clouds">‚òÅ‚òÅ‚òÅ</div>
                    </div>
                </div>
            </div>

            <!-- Add activity display -->
            <div class="activity-display" id="current-activity">
                <div class="activity-primary">Starting game...</div>
                <div class="activity-secondary">Preparing roles and board</div>
            </div>

            <!-- Add waiting indicator (will be shown/hidden dynamically) -->
            <div class="waiting-indicator" id="waiting-indicator">
                <div class="waiting-content">
                    <div class="waiting-spinner"></div>
                    <div class="waiting-text">Waiting for players...</div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="game-content">
                <!-- Left Panel: Game Board -->
                <div class="game-board">
                    <h2>üèùÔ∏è Black Adder Resort</h2>
                    <div class="locations-grid" id="locations-grid">
                        <!-- Locations populated by JS -->
                    </div>
                </div>

                <!-- Right Panel: Player Info & Actions -->
                <div class="right-panel">
                    <!-- Your Info -->
                    <div class="player-info-card">
                        <h3>Your Character</h3>
                        <div class="character-info">
                            <div class="character-name" id="my-character">-</div>
                            <div class="secret-role" id="my-secret-role">
                                <span class="role-label">Secret Role:</span>
                                <span class="role-value" id="role-display">Unknown</span>
                            </div>
                        </div>
                        
                        <!-- Plot Info (only for conspiracy) -->
                        <div id="plot-info" class="plot-info hidden">
                            <h4>üéØ Secret Plot</h4>
                            <div class="plot-details">
                                <!-- Plot details populated by JS -->
                            </div>
                        </div>
                    </div>

                    <!-- Your Cards -->
                    <div class="cards-section">
                        <div class="supply-cards-section">
                            <h4>Supply Cards (<span id="supply-count">0</span>)</h4>
                            <div id="supply-cards" class="cards-container">
                                <!-- Supply cards populated by JS -->
                            </div>
                        </div>
                        
                        <div class="clue-cards-section">
                            <h4>Clue Cards (<span id="clue-count">0</span>)</h4>
                            <div id="clue-cards" class="cards-container">
                                <!-- Clue cards populated by JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Panels -->
            <div class="action-panels">
                <!-- Setup Actions -->
                <div id="setup-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üé≠ Game Setup</h3>
                        <p>Roles have been assigned. Ready to begin the conspiracy phase?</p>
                    </div>
                    <button id="start-conspiracy-btn" class="btn btn-primary">Begin Conspiracy Phase</button>
                </div>

                <!-- Conspiracy Plotting -->
                <div id="plotting-actions" class="action-panel">
                    <div class="action-header">
                        <h3>ü§´ Conspiracy Planning</h3>
                        <div class="conspiracy-instructions">
                            <p><strong>Instructions:</strong></p>
                            <ol>
                                <li>Everyone close your eyes and make background noise</li>
                                <li>Conspiracy members (Ringleader + Accomplices): Open your eyes</li>
                                <li>Ringleader: Share the plot location and weapon with accomplices</li>
                                <li>Conspiracy members: Close your eyes</li>
                                <li>Everyone: Open your eyes</li>
                            </ol>
                        </div>
                    </div>
                    <div class="conspiracy-actions">
                        <button id="reveal-plot-btn" class="btn btn-warning">Reveal Plot (Conspiracy Only)</button>
                        <button id="finish-plotting-btn" class="btn btn-primary">Finish Plotting Phase</button>
                    </div>
                </div>

                <!-- Scout Actions -->
                <div id="scout-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üéØ Scout: Choose Your Mission</h3>
                        <p>You are the Scout. Select your team and destination.</p>
                    </div>
                    
                    <div class="scout-form">
                        <div class="form-group">
                            <label>1. Choose Bodyguard:</label>
                            <select id="bodyguard-select" class="form-control">
                                <option value="">Select a bodyguard...</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>2. Choose Additional Team Members:</label>
                            <div id="team-selection" class="team-selection">
                                <!-- Team checkboxes populated by JS -->
                            </div>
                            <small class="help-text">You and the bodyguard are automatically included</small>
                        </div>

                        <div class="form-group">
                            <label>3. Choose Location:</label>
                            <select id="location-select" class="form-control">
                                <option value="">Select a location...</option>
                            </select>
                        </div>

                        <button id="confirm-mission-btn" class="btn btn-primary" disabled>Confirm Mission</button>
                    </div>
                </div>

                <!-- Voting Actions -->
                <div id="voting-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üó≥Ô∏è Vote on Mission</h3>
                        <div id="mission-info" class="mission-info">
                            <!-- Mission details populated by JS -->
                        </div>
                    </div>
                    <div class="vote-buttons">
                        <button id="vote-approve" class="btn btn-success">üëç Approve</button>
                        <button id="vote-reject" class="btn btn-danger">üëé Reject</button>
                    </div>
                </div>

                <!-- Plot Check Actions -->
                <div id="plot-check-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üéØ Plot Check</h3>
                        <p>Has the conspiracy's plot been activated?</p>
                    </div>
                    <button id="check-plot-btn" class="btn btn-primary">Check Plot</button>
                </div>

                <!-- Disarming Actions -->
                <div id="disarming-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üîß Disarm Trap</h3>
                        <p>Select supply cards to submit for disarming the trap.</p>
                        <div id="contribution-preview" class="contribution-preview">
                            <!-- Contribution preview populated by JS -->
                        </div>
                    </div>
                    <button id="submit-cards-btn" class="btn btn-primary">Submit Cards</button>
                </div>

                <!-- Collecting Actions -->
                <div id="collecting-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üîç Collect Clues</h3>
                        <p>As the bodyguard, collect clues and decide what to tell others.</p>
                        <div id="actual-clue" class="actual-clue">
                            <!-- Actual clue found populated by JS -->
                        </div>
                    </div>
                    <div class="clue-claims">
                        <div class="form-group">
                            <label>Claim you found (Weapon):</label>
                            <select id="weapon-claim-select" class="form-control">
                                <option value="">None</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Claim you found (Location):</label>
                            <select id="location-claim-select" class="form-control">
                                <option value="">None</option>
                            </select>
                        </div>
                    </div>
                    <button id="collect-clues-btn" class="btn btn-primary">Collect Clues</button>
                </div>

                <!-- Supplying Actions -->
                <div id="supplying-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üéí Distribute Supply Cards</h3>
                        <p>As the Scout, distribute supply cards to team members.</p>
                    </div>
                    <button id="distribute-supplies-btn" class="btn btn-primary">Distribute Supplies</button>
                </div>

                <!-- Final Accusation Actions -->
                <div id="final-accusation-actions" class="action-panel">
                    <div class="action-header">
                        <h3>‚öñÔ∏è Final Accusation</h3>
                        <p>Mr. Coral is dead! Make your final accusation to win.</p>
                    </div>
                    <div class="accusation-form">
                        <div class="form-group">
                            <label>WHO (Ringleader):</label>
                            <select id="accusation-who" class="form-control">
                                <option value="">Select character...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>WHERE (Plot Location):</label>
                            <select id="accusation-where" class="form-control">
                                <option value="">Select location...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>WHAT (Plot Weapon):</label>
                            <select id="accusation-what" class="form-control">
                                <option value="">Select weapon...</option>
                            </select>
                        </div>
                    </div>
                    <button id="submit-accusation-btn" class="btn btn-danger">Submit Final Accusation</button>
                </div>

                <!-- Game Over Actions -->
                <div id="game-over-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üéÆ Game Over</h3>
                        <div id="game-result" class="game-result">
                            <!-- Game result populated by JS -->
                        </div>
                    </div>
                    <button id="new-game-btn" class="btn btn-primary">New Game</button>
                </div>
            </div>
        </div>

        <!-- Game Log -->
        <div id="game-log" class="game-log">
            <h3>üìã Game Log</h3>
            <!-- Log entries will be added here -->
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html> 