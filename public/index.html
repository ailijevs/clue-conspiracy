<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clue Conspiracy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Login Screen -->
        <div id="login-screen" class="screen active">
            <div class="login-container">
                <h1>üïµÔ∏è Clue Conspiracy</h1>
                <p class="subtitle">A Social Deduction Mystery Game</p>
                <form id="login-form" class="login-form">
                    <input type="text" id="player-name" placeholder="Enter your name" required maxlength="20">
                    <input type="text" id="game-id" placeholder="Game ID (leave blank to create new game)" maxlength="10">
                    <button type="submit" class="btn btn-primary">Join Game</button>
                </form>
                <div class="instructions">
                    <p><strong>How to play with friends:</strong></p>
                    <p>1. One person creates a game (leave Game ID blank)</p>
                    <p>2. Share the Game ID with friends</p>
                    <p>3. Friends enter the same Game ID to join</p>
                    <p>4. Need 4-10 players to start</p>
                </div>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobby-screen" class="screen">
            <div class="lobby-container">
                <h1>üïµÔ∏è Clue Conspiracy</h1>
                <div class="game-info">
                    <h2>Game ID: <span id="game-id-display">-</span></h2>
                    <p>Share this ID with your friends!</p>
                </div>
                
                <div class="players-section">
                    <h3>Players (<span id="player-count">0</span>/10)</h3>
                    <div id="players-grid" class="players-grid">
                        <!-- Players populated by JS -->
                    </div>
                </div>
                
                <div class="lobby-actions">
                    <button id="start-game-btn" class="btn btn-primary" disabled>Start Game (Need 4+ players)</button>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <!-- Header -->
            <div class="game-header">
                <div class="game-info">
                    <h1>üïµÔ∏è Clue Conspiracy</h1>
                    <div class="game-status">
                        <span class="status-item">
                            <span class="label">Phase:</span>
                            <span id="game-phase" class="value">-</span>
                        </span>
                        <span class="status-item">
                            <span class="label">Round:</span>
                            <span id="round-info" class="value">-</span>
                        </span>
                        <span class="status-item">
                            <span class="label">Game ID:</span>
                            <span id="game-id-display-game" class="value game-id">-</span>
                        </span>
                    </div>
                </div>
                <div class="health-section">
                    <div class="health-item">
                        <span class="label">Mr. Coral Health:</span>
                        <div id="coral-health" class="health-hearts">‚ô•‚ô•‚ô•</div>
                    </div>
                    <div class="health-item">
                        <span class="label">Storm Tracker:</span>
                        <div id="storm-tracker" class="storm-clouds">‚òÅ‚òÅ‚òÅ</div>
                    </div>
                </div>
            </div>

            <!-- Add activity display -->
            <div class="activity-display" id="current-activity">
                <div class="activity-primary">Starting game...</div>
                <div class="activity-secondary">Preparing roles and board</div>
            </div>

            <!-- Add waiting indicator (will be shown/hidden dynamically) -->
            <div class="waiting-indicator" id="waiting-indicator">
                <div class="waiting-content">
                    <div class="waiting-spinner"></div>
                    <div class="waiting-text">Waiting for players...</div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="game-content">
                <!-- Left Panel: Game Board -->
                <div class="game-board">
                    <h2>üèùÔ∏è Black Adder Resort</h2>
                    <div class="resort-board-container">
                        <div class="resort-board" id="resort-board">
                            
                            <!-- Top Row Locations -->
                            <div class="location-card top-left" data-location="Palm Lounge">
                                <div class="location-image">üå¥</div>
                                <div class="location-name">PALM LOUNGE</div>
                                <div class="trap-display">
                                    <span class="trap-value">7</span>
                                    <div class="trap-suits">
                                        <div class="suit-symbol triangle">‚ñ≤</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="location-card top-center" data-location="Lifeguard Post">
                                <div class="location-image">üèñÔ∏è</div>
                                <div class="location-name">LIFEGUARD POST</div>
                                <div class="trap-display">
                                    <span class="trap-value">5</span>
                                    <div class="trap-suits">
                                        <div class="suit-symbol circle">‚óè</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="location-card top-right" data-location="Hidden Cove">
                                <div class="location-image">üèûÔ∏è</div>
                                <div class="location-name">HIDDEN COVE</div>
                                <div class="trap-display">
                                    <span class="trap-value">5</span>
                                    <div class="trap-suits">
                                        <div class="suit-symbol spades">‚ô†</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Left Side Locations -->
                            <div class="location-card left-top" data-location="Utility Room">
                                <div class="location-image">üîß</div>
                                <div class="location-name">UTILITY ROOM</div>
                                <div class="trap-display">
                                    <span class="trap-value">5</span>
                                    <div class="trap-suits">
                                        <div class="suit-symbol diamonds">‚ô¶</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="location-card left-bottom" data-location="Botanical Spa">
                                <div class="location-image">üå∫</div>
                                <div class="location-name">BOTANICAL SPA</div>
                                <div class="trap-display">
                                    <span class="trap-value">7</span>
                                    <div class="trap-suits">
                                        <div class="suit-symbol hearts">‚ô•</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Right Side Locations -->
                            <div class="location-card right-top" data-location="Royal Villa">
                                <div class="location-image">üè∞</div>
                                <div class="location-name">ROYAL VILLA</div>
                                <div class="trap-display">
                                    <span class="trap-value">4</span>
                                    <div class="trap-suits">
                                        <div class="suit-symbol spades">‚ô†</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bottom Row Locations -->
                            <div class="location-card bottom-left" data-location="Infinity Pool">
                                <div class="location-image">üèä‚Äç‚ôÄÔ∏è</div>
                                <div class="location-name">INFINITY POOL</div>
                                <div class="trap-display">
                                    <span class="trap-value">7</span>
                                    <div class="trap-suits">
                                        <div class="suit-symbol clubs">‚ô£</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="location-card bottom-center" data-location="Concierge Station">
                                <div class="location-image">üé©</div>
                                <div class="location-name">CONCIERGE STATION</div>
                                <div class="trap-display">
                                    <span class="trap-value">5</span>
                                    <div class="trap-suits">
                                        <div class="suit-symbol diamonds">‚ô¶</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="location-card bottom-right" data-location="Observation Deck">
                                <div class="location-image">üî≠</div>
                                <div class="location-name">OBSERVATION DECK</div>
                                <div class="trap-display">
                                    <span class="trap-value">5</span>
                                    <div class="trap-suits">
                                        <div class="suit-symbol diamonds">‚ô¶</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Central Logo Area -->
                            <div class="central-area">
                                <div class="game-logo">
                                    <div class="logo-text">Clue</div>
                                    <div class="logo-subtext">CONSPIRACY</div>
                                </div>
                                
                                <!-- Supply Areas -->
                                <div class="supply-areas">
                                    <div class="supply-deck">
                                        <div class="supply-label">SUPPLY</div>
                                        <div class="supply-sublabel">Gather Supplies Here</div>
                                    </div>
                                    <div class="discard-pile">
                                        <div class="discard-label">DISCARD</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Mr. Coral Position Indicator -->
                            <div class="coral-position" id="coral-position">
                                <div class="coral-avatar">üë®‚Äçüíº</div>
                                <div class="coral-label">MR. CORAL</div>
                            </div>
                            
                        </div>
                        
                        <!-- Bottom Trackers -->
                        <div class="board-trackers">
                            <div class="tracker storm-tracker">
                                <div class="tracker-label">STORM TRACKER</div>
                                <div class="tracker-circles" id="storm-circles">
                                    <div class="tracker-circle"></div>
                                    <div class="tracker-circle"></div>
                                    <div class="tracker-circle"></div>
                                </div>
                            </div>
                            
                            <div class="tracker health-tracker">
                                <div class="tracker-label">HEALTH TRACKER</div>
                                <div class="tracker-label-sub">MR. CORAL'S</div>
                                <div class="tracker-label-danger">IN DANGER!</div>
                                <div class="tracker-circles" id="health-circles">
                                    <div class="tracker-circle health-circle active">‚ù§Ô∏è</div>
                                    <div class="tracker-circle health-circle active">‚ù§Ô∏è</div>
                                    <div class="tracker-circle health-circle active">‚ù§Ô∏è</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Panel: Player Info & Actions -->
                <div class="right-panel">
                    <!-- Your Info -->
                    <div class="player-info-card">
                        <h3>Your Character</h3>
                        <div class="character-info">
                            <div class="character-name" id="my-character">-</div>
                            <div class="secret-role" id="my-secret-role">
                                <span class="role-label">Secret Role:</span>
                                <span class="role-value" id="role-display">Unknown</span>
                            </div>
                        </div>
                        
                        <!-- Plot Info (only for conspiracy) -->
                        <div id="plot-info" class="plot-info hidden">
                            <h4>üéØ Secret Plot</h4>
                            <div class="plot-details">
                                <!-- Plot details populated by JS -->
                            </div>
                        </div>
                    </div>

                    <!-- Your Cards -->
                    <div class="cards-section">
                        <div class="supply-cards-section">
                            <h4>Supply Cards (<span id="supply-count">0</span>)</h4>
                            <div id="supply-cards" class="cards-container">
                                <!-- Supply cards populated by JS -->
                            </div>
                        </div>
                        
                        <div class="clue-cards-section">
                            <h4>Clue Cards (<span id="clue-count">0</span>)</h4>
                            <div id="clue-cards" class="cards-container">
                                <!-- Clue cards populated by JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Panels -->
            <div class="action-panels">
                <!-- Setup Actions -->
                <div id="setup-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üé≠ Game Setup</h3>
                        <p>Roles have been assigned. Ready to begin the conspiracy phase?</p>
                    </div>
                    <button id="begin-conspiracy-btn" class="btn btn-primary">Begin Conspiracy Phase</button>
                </div>

                <!-- Conspiracy Plotting -->
                <div id="plotting-actions" class="action-panel">
                    <div class="action-header">
                        <h3>ü§´ Conspiracy Planning</h3>
                        <div class="conspiracy-instructions">
                            <p><strong>Instructions:</strong></p>
                            <ol>
                                <li>Everyone close your eyes and make background noise</li>
                                <li>Conspiracy members (Ringleader + Accomplices): Open your eyes</li>
                                <li>Ringleader: Share the plot location and weapon with accomplices</li>
                                <li>Conspiracy members: Close your eyes</li>
                                <li>Everyone: Open your eyes</li>
                            </ol>
                        </div>
                    </div>
                    <button id="finish-conspiracy-btn" class="btn btn-primary">Finish Plotting Phase</button>
                </div>

                <!-- Scout Actions -->
                <div id="scout-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üéØ Scout: Choose Your Mission</h3>
                        <p>Click on a location, then select your bodyguard and team members</p>
                    </div>
                    
                    <div class="scout-selection-container">
                        <!-- Step 1: Location Selection -->
                        <div class="selection-step">
                            <h4>1. Choose Location</h4>
                            <p class="step-instruction">Click on a location on the board above ‚¨ÜÔ∏è</p>
                            <div id="selected-location" class="selected-item">
                                <span class="selection-label">Selected:</span>
                                <span class="selection-value">None</span>
                            </div>
                        </div>
                        
                        <!-- Step 2: Player Selection -->
                        <div class="selection-step">
                            <h4>2. Select Your Team</h4>
                            <div class="team-selection-grid">
                                <div class="bodyguard-selection">
                                    <h5>üëë Choose Bodyguard</h5>
                                    <div id="bodyguard-cards" class="player-cards-container">
                                        <!-- Player cards populated by JS -->
                                    </div>
                                    <div id="selected-bodyguard" class="selected-item">
                                        <span class="selection-label">Bodyguard:</span>
                                        <span class="selection-value">None</span>
                                    </div>
                                </div>
                                
                                <div class="team-members-selection">
                                    <h5>üë• Additional Team Members (Optional)</h5>
                                    <div id="team-member-cards" class="player-cards-container">
                                        <!-- Player cards populated by JS -->
                                    </div>
                                    <div id="selected-team-members" class="selected-item">
                                        <span class="selection-label">Team:</span>
                                        <span class="selection-value">You + Bodyguard</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Mission Summary -->
                        <div class="mission-summary">
                            <h4>üéØ Mission Summary</h4>
                            <div id="mission-summary-content" class="summary-content">
                                <p>Select a location and bodyguard to see mission details</p>
                            </div>
                        </div>
                        
                        <button id="confirm-mission-btn" class="btn btn-primary btn-large" disabled>
                            <span class="btn-icon">üöÄ</span>
                            Confirm Mission
                        </button>
                    </div>
                </div>

                <!-- Voting Actions -->
                <div id="voting-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üó≥Ô∏è Vote on Mission</h3>
                        <div id="mission-info" class="mission-info">
                            <!-- Mission details populated by JS -->
                        </div>
                    </div>
                    <div class="vote-buttons">
                        <button id="vote-approve" class="btn btn-success">üëç Approve</button>
                        <button id="vote-reject" class="btn btn-danger">üëé Reject</button>
                    </div>
                </div>

                <!-- Plot Check Actions -->
                <div id="plot-check-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üéØ Plot Check</h3>
                        <p>Has the conspiracy's plot been activated?</p>
                    </div>
                    <button id="check-plot-btn" class="btn btn-primary">Check Plot</button>
                </div>

                <!-- Disarming Actions -->
                <div id="disarming-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üîß Disarm Trap</h3>
                        <p>Select supply cards to submit for disarming the trap.</p>
                        <div id="contribution-preview" class="contribution-preview">
                            <!-- Contribution preview populated by JS -->
                        </div>
                    </div>
                    <button id="submit-cards-btn" class="btn btn-primary">Submit Cards</button>
                </div>

                <!-- Collecting Actions -->
                <div id="collecting-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üîç Collect Clues</h3>
                        <p>As the bodyguard, collect clues and decide what to tell others.</p>
                        <div id="actual-clue" class="actual-clue">
                            <!-- Actual clue found populated by JS -->
                        </div>
                    </div>
                    <div class="clue-claims">
                        <div class="form-group">
                            <label>Claim you found (Weapon):</label>
                            <select id="weapon-claim-select" class="form-control">
                                <option value="">None</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Claim you found (Location):</label>
                            <select id="location-claim-select" class="form-control">
                                <option value="">None</option>
                            </select>
                        </div>
                    </div>
                    <button id="collect-clues-btn" class="btn btn-primary">Collect Clues</button>
                </div>

                <!-- Supplying Actions -->
                <div id="supplying-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üéí Distribute Supply Cards</h3>
                        <p>As the Scout, distribute supply cards to team members.</p>
                    </div>
                    <button id="distribute-supplies-btn" class="btn btn-primary">Distribute Supplies</button>
                </div>

                <!-- Final Accusation Actions -->
                <div id="final-accusation-actions" class="action-panel">
                    <div class="action-header">
                        <h3>‚öñÔ∏è Final Accusation</h3>
                        <p>Mr. Coral is dead! Make your final accusation to win.</p>
                    </div>
                    <div class="accusation-form">
                        <div class="form-group">
                            <label>WHO (Ringleader):</label>
                            <select id="accusation-who" class="form-control">
                                <option value="">Select character...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>WHERE (Plot Location):</label>
                            <select id="accusation-where" class="form-control">
                                <option value="">Select location...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>WHAT (Plot Weapon):</label>
                            <select id="accusation-what" class="form-control">
                                <option value="">Select weapon...</option>
                            </select>
                        </div>
                    </div>
                    <button id="submit-accusation-btn" class="btn btn-danger">Submit Final Accusation</button>
                </div>

                <!-- Game Over Actions -->
                <div id="game-over-actions" class="action-panel">
                    <div class="action-header">
                        <h3>üéÆ Game Over</h3>
                        <div id="game-result" class="game-result">
                            <!-- Game result populated by JS -->
                        </div>
                    </div>
                    <button id="new-game-btn" class="btn btn-primary">New Game</button>
                </div>

                <!-- Final Team Selection -->
                <div id="final-team-selection" class="action-panel">
                    <div class="action-header">
                        <h3>üìã Final Round Team Selection</h3>
                        <p>Choose team members for the final clue gathering round.</p>
                    </div>
                    <div class="team-selection">
                        <!-- Team checkboxes populated by JS -->
                    </div>
                    <button id="propose-final-team-btn" class="btn btn-primary">Propose Final Team</button>
                </div>
            </div>
        </div>

        <!-- Game Log -->
        <div id="game-log" class="game-log">
            <h3>üìã Game Log</h3>
            <!-- Log entries will be added here -->
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html> 